System.register(["jimu-core","jimu-core/react","jimu-arcgis","calcite-components","jimu-ui"],(function(e,t){var n={},i={},o={},r={},c={};return{setters:[function(e){n.React=e.React},function(e){i.useEffect=e.useEffect,i.useState=e.useState},function(e){o.JimuMapViewComponent=e.JimuMapViewComponent},function(e){r.CalciteAccordion=e.CalciteAccordion,r.CalciteAccordionItem=e.CalciteAccordionItem,r.CalciteAction=e.CalciteAction,r.CalciteDropdown=e.CalciteDropdown,r.CalciteDropdownGroup=e.CalciteDropdownGroup,r.CalciteDropdownItem=e.CalciteDropdownItem,r.CalcitePickListItem=e.CalcitePickListItem},function(e){c.Button=e.Button,c.Icon=e.Icon}],execute:function(){e((()=>{var e={899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),c=n.n(r)()(o());c.push([e.id,".widget-content{overflow-x:hidden !important}.labels-button{padding:0}",""]);const a=c},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(c[l]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&c[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},c=[],a=0;a<e.length;a++){var l=e[a],s=i.base?l[0]+i.base:l[0],u=r[s]||0,d="".concat(s," ").concat(u);r[s]=u+1;var p=n(d),v={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(v);else{var m=o(v,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:m,references:1})}c.push(d)}return c}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var c=0;c<r.length;c++){var a=n(r[c]);t[a].references--}for(var l=i(e,o),s=0;s<r.length;s++){var u=n(r[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},145:e=>{"use strict";e.exports=r},826:e=>{"use strict";e.exports=o},891:e=>{"use strict";e.exports=n},315:e=>{"use strict";e.exports=i},726:e=>{"use strict";e.exports=c}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",a.nc=void 0;var l={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(l),a.d(l,{__set_webpack_public_path__:()=>E,default:()=>C});var e=a(891),t=a(315),n=a(826),i=a(379),o=a.n(i),r=a(795),c=a.n(r),s=a(569),u=a.n(s),d=a(565),p=a.n(d),v=a(216),m=a.n(v),f=a(589),g=a.n(f),y=a(899),h={};h.styleTagTransform=g(),h.setAttributes=p(),h.insert=u().bind(null,"head"),h.domAPI=c(),h.insertStyleElement=m(),o()(y.Z,h),y.Z&&y.Z.locals&&y.Z.locals;var w=a(145),b=a(726);function C(i){const[o,r]=(0,t.useState)(),[c,a]=(0,t.useState)([]),[l,s]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[p,v]=(0,t.useState)([!1,!1,!1,!1]),[m,f]=(0,t.useState)(1),[g,y]=(0,t.useState)(14),h={display:"inline-block",position:"absolute",right:"10px"},C={display:"inline-block",position:"absolute",right:"10px",bottom:"2px"},E={width:"24px",height:"24px",fontSize:"12px",cursor:"pointer",padding:"0px",lineHeight:"0px",paddingLeft:"2px"},A=(e,t)=>{var n,i;const r=null===(i=null===(n=null==o?void 0:o.view)||void 0===n?void 0:n.map)||void 0===i?void 0:i.findLayerById(e);r&&(r.opacity=t,r.refresh())};let x=0;const I=(t,n="")=>{const i=[];return t.forEach(((t,r)=>{const c=""!==n?n:x++;if("group"===t.type){const n=t.title||"Industry";i.push(e.React.createElement(w.CalciteAccordionItem,{"data-id":c,key:t.id,className:"accordion-item",description:n},e.React.createElement(w.CalciteAction,{"data-id":c,id:`action-${t.id}`,className:`group-${c}`,slot:"actions-end",icon:"square",text:t.title,onClick:()=>((e,t)=>{let n;console.log(e),v((i=>{const o=[...i];return o[e]=!o[e],n=o[e],L(e,t,n),o})),console.log(u)})(c,t.id)}),e.React.createElement("div",null,I(t.layers.items,c))))}else i.push(e.React.createElement(w.CalcitePickListItem,{key:t.id,label:t.title,value:t.id,description:t.type,"data-id":n},e.React.createElement(w.CalciteAction,{id:`action-${t.id}`,slot:"actions-end",icon:t.visible?"check-square":"square",text:t.title,onClick:()=>R(t.id,n)}),e.React.createElement(w.CalciteDropdown,{slot:"actions-end","width-scale":"l",closeOnSelectDisabled:"true"},e.React.createElement(w.CalciteAction,{id:`action-${t.id}`,icon:"ellipsis",slot:"trigger",text:t.title}),e.React.createElement(w.CalciteDropdownGroup,null,e.React.createElement(w.CalciteDropdownItem,null,"Zoom",e.React.createElement("div",{className:"transparency-control",style:h},e.React.createElement(b.Button,{style:E,onClick:()=>(t.id,void y((e=>{const t=e-1;return o&&o.view&&(o.view.zoom=t),t}))),className:"btn"},e.React.createElement(b.Icon,{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3 12H21V13H3V12Z" fill="#6A6A6A"/>\r\n                        </svg>\r\n                        ',size:"m"})),e.React.createElement(b.Button,{style:E,onClick:()=>(t.id,void y((e=>{const t=e+1;return o&&o.view&&(o.view.zoom=t),t}))),className:"btn"},e.React.createElement(b.Icon,{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6 12H12V6H13V12H19V13H13V19H12V13H6V12Z" fill="#6A6A6A"/>\r\n                        </svg>\r\n                        ',size:"m"})))),e.React.createElement(w.CalciteDropdownItem,null,"Transparency",e.React.createElement("div",{className:"transparency-control",style:h},e.React.createElement(b.Button,{style:E,onClick:()=>{return e=t.id,console.log("Decrease transparency clicked"),void f((t=>{const n=t-.1;return console.log("New transparency:",n),A(e,n),n>=0?n:0}));var e},size:"default"},e.React.createElement(b.Icon,{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3 12H21V13H3V12Z" fill="#6A6A6A"/>\r\n                        </svg>\r\n                        ',size:"m"})),e.React.createElement(b.Button,{style:E,onClick:()=>{return e=t.id,console.log("Increase transparency clicked"),void f((t=>{const n=t+.1;return console.log("New transparency:",n),A(e,n),n<=1?n:1}));var e}},e.React.createElement(b.Icon,{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6 12H12V6H13V12H19V13H13V19H12V13H6V12Z" fill="#6A6A6A"/>\r\n                        </svg>\r\n                        ',size:"m"})))),e.React.createElement(w.CalciteDropdownItem,{label:"Toggle Labels"},"Toggle Labels",e.React.createElement("div",{className:"transparency-control",style:C},e.React.createElement(w.CalciteAction,{id:`action-vis-${t.id}`,slot:"actions-end",icon:t.labelsVisible?"view-visible":"view-hide",text:t.title,scale:"s",className:"labels-button",onClick:()=>(e=>{var t,n;const i=null===(n=null===(t=null==o?void 0:o.view)||void 0===t?void 0:t.map)||void 0===n?void 0:n.findLayerById(e);i&&(i.labelsVisible=!i.labelsVisible);const r=document.getElementById(`action-vis-${e}`);r&&r.setAttribute("icon",i.labelsVisible?"view-visible":"view-hide")})(t.id)}))),e.React.createElement(w.CalciteDropdownItem,{label:"Layer Details",href:t.url,target:"_blank"},"Layer Details",e.React.createElement("div",{className:"transparency-control",style:h},e.React.createElement(b.Button,{style:E,href:t.url,type:"tertiary",target:"_blank"},e.React.createElement(b.Icon,{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.99991 14C6.99991 14.025 7.00291 14.05 7.00391 14.075L3.46391 10.535C1.52614 8.57967 1.53349 5.42577 3.48035 3.47947C5.4272 1.53316 8.5811 1.52671 10.5359 3.46503L14.5359 7.46502C15.731 8.65643 16.2432 10.3709 15.8976 12.0227C15.552 13.6744 14.3954 15.0397 12.8229 15.652L12.5859 15.415C12.4117 15.2393 12.2717 15.0328 12.1729 14.806C13.5137 14.3989 14.5422 13.3175 14.8816 11.9579C15.2209 10.5983 14.8212 9.16045 13.8289 8.17103L9.82891 4.17103C8.37283 2.71559 6.04981 2.6031 4.45991 3.91103L4.14191 3.52403L4.45991 3.91003C3.58739 4.62642 3.05823 5.67817 3.003 6.80576C2.94776 7.93335 3.37159 9.03178 4.16991 9.83003L7.10991 12.77C7.03714 13.176 7.00033 13.5876 6.99991 14ZM22.9999 18C23.0035 16.6732 22.4763 15.4 21.5359 14.464L17.9959 10.925C17.9959 10.95 17.9999 10.975 17.9999 11C17.9981 11.4125 17.9603 11.8241 17.8869 12.23L20.8289 15.171C21.601 15.9429 22.024 16.9969 21.9999 18.0884C21.9757 19.1799 21.5064 20.2141 20.7009 20.951C19.1219 22.3968 16.6846 22.343 15.1709 20.829L11.1709 16.829C10.1694 15.8439 9.7638 14.4025 10.1046 13.0396C10.4453 11.6768 11.4816 10.5959 12.8289 10.198C12.73 9.96963 12.5892 9.76172 12.4139 9.58503L12.1799 9.35103C11.4501 9.63417 10.797 10.0846 10.2729 10.666C8.50323 12.6438 8.58708 15.6596 10.4639 17.536L14.4639 21.536C15.8939 22.9664 18.0448 23.3944 19.9135 22.6203C21.7821 21.8462 23.0003 20.0226 22.9999 18Z" fill="#6A6A6A"/>\r\n                        </svg>',size:"m"}))))))))})),i},R=(e,t,n)=>{var i,r;const c=null===(r=null===(i=null==o?void 0:o.view)||void 0===i?void 0:i.map)||void 0===r?void 0:r.findLayerById(e);if(c&&(c.visible=!c.visible),c){const t=document.getElementById(`action-${e}`);t&&t.setAttribute("icon",c.visible?"check-square":"square")}S(e,t,n)},S=(e,t,n)=>{const i=[],r=[],c=[];if(document.querySelectorAll(`[data-id="${t}"]`).forEach((e=>{var t,n;const a=e.getAttribute("value"),l=null===(n=null===(t=null==o?void 0:o.view)||void 0===t?void 0:t.map)||void 0===n?void 0:n.findLayerById(a);l&&(l.visible?r.push(a):c.push(a),l&&i.push(a))})),r.length!==i.length){const e=document.querySelector(`.group-${t}`);e&&e.setAttribute("icon","square")}else{const e=document.querySelector(`.group-${t}`);e&&e.setAttribute("icon","check-square")}},L=(e,t,n)=>{let i,r=n;const c=document.querySelector(`.group-${e}`);c&&c.setAttribute("icon",u?"check-square":"square"),document.querySelectorAll(`[data-id="${e}"]`).forEach((t=>{const n=t.getAttribute("value");i=n,R(n,e,r)})),S(i,e,n),((e,t,n)=>{var i,r;if(n){const e=document.querySelector(`.group-${t}`);e&&e.setAttribute("icon","check-square"),document.querySelectorAll(`[data-id="${t}"]`).forEach((e=>{var t,n;const i=e.getAttribute("value"),r=null===(n=null===(t=null==o?void 0:o.view)||void 0===t?void 0:t.map)||void 0===n?void 0:n.findLayerById(i);if(r){r.visible=!0;const e=document.getElementById(`action-${i}`);e&&e.setAttribute("icon","check-square")}}))}else if("undefined"===n){const n=document.querySelector(`.group-${t}`);n&&n.setAttribute("icon","square");const c=null===(r=null===(i=null==o?void 0:o.view)||void 0===i?void 0:i.map)||void 0===r?void 0:r.findLayerById(e);if(c){c.visible=!1;const t=document.getElementById(`action-${e}`);t&&t.setAttribute("icon","square")}}})(i,e,n)};return(0,t.useEffect)((()=>{if(o){const e=o.view.map.layers.items,t=I(e);a(t)}}),[o]),e.React.createElement("div",{className:"widget-starter jimu-widget",style:{overflowX:"hidden"}},e.React.createElement("calcite-panel",null,e.React.createElement(w.CalciteAccordion,{"icon-position":"start","icon-type":"caret",scale:"m"},e.React.createElement("h5",{style:{textAlign:"center"}},"Layer List"),i.useMapWidgetIds&&1===i.useMapWidgetIds.length&&e.React.createElement(n.JimuMapViewComponent,{useMapWidgetId:i.useMapWidgetIds[0],onActiveViewChange:e=>{e&&r(e)}}),e.React.createElement("div",null,c))))}function E(e){a.p=e}})(),l})())}}}));